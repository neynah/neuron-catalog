<head>
  <title>VPN project</title>
</head>

<body>
</body>

<template name="MyLayout">
  {{> show_dialog}}
  <div class="container-fluid">

   <div class="row">
    <div class="col-md-10 col-md-offset-1">

      <ul class="nav nav-tabs" role="tablist">
	<li {{tab_attrs_home}}><a href="{{pathFor 'home'}}">home</a></li>
	<li {{tab_attrs_driver_lines}}>
	  <a href="{{pathFor 'driver_lines'}}">Driver Lines</a>
	</li>
	<li {{tab_attrs_neuron_types}}>
	  <a href="{{pathFor 'neuron_types'}}">Neuron Types</a>
	</li>
	<li {{tab_attrs_neuropiles}}>
	  <a href="{{pathFor 'neuropiles'}}">Neuropiles</a>
	</li>
      </ul>

    </div>
   </div>

   <div class="row">
    <div class="col-md-10 col-md-offset-1">

  <article>
    {{> yield}}
  </article>

    </div>
   </div>

   <div class="row">
    <div class="col-md-10 col-md-offset-1">

    </div>
   </div>

  </div>
</template>

<template name="home">
  <h1>VPN project</h1>
  <ul class="fa-ul">
    <li><i class="fa-li fa fa-circle-o"></i>
      <a href="{{pathFor 'driver_lines'}}">Driver Lines</a>
    </li>
    <li><i class="fa-li fa fa-circle-o"></i>
      <a href="{{pathFor 'neuron_types'}}">Neuron Types</a>
    </li>
    <li><i class="fa-li fa fa-circle-o"></i>
      <a href="{{pathFor 'neuropiles'}}">Neuropiles</a>
    </li>
  </ul>
</template>

<template name="edit_delete_buttons">
  <div class="btn-group">
    <a class="btn btn-default edit" href="#"><i class="fa fa-pencil-square-o"></i> Edit</a>
    <a class="btn btn-danger delete" href="#"><i class="fa fa-trash-o"></i> Delete</a>
  </div>
</template>

<template name="driver_line_from_id_block">
  {{#with driver_line_from_id}}
    {{> UI.contentBlock this}}
  {{/with}}
</template>

<template name="neuron_type_from_id_block">
  {{#with neuron_type_from_id}}
    {{> UI.contentBlock this}}
  {{/with}}
</template>

<template name="neuropile_from_id_block">
  {{#with neuropile_from_id}}
    {{> UI.contentBlock this}}
  {{/with}}
</template>

<template name="driver_line_table">
  <table class="table table-striped">
    <thead>
      <tr>
	<th>Driver line</th>
      </tr>
    </thead>
    <tbody>
      {{#each driver_lines}}
      {{#driver_line_from_id_block}}
      <tr>
	<td>
	  <a href="{{pathFor 'driver_line_show'}}">{{name}}</a>
	</td>
      </tr>
      {{/driver_line_from_id_block}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="neuron_type_table">
  <table class="table table-striped">
    <thead>
      <tr>
	<th>Neuron type</th>
	<th>Synonyms</th>
	<th>Best driver lines</th>
      </tr>
    </thead>
    <tbody>
      {{#each neuron_types}}
      {{#neuron_type_from_id_block}}
      <tr>
	<td>
	  <a href="{{pathFor 'neuron_type_show'}}">{{name}}</a>
	</td>
	<td>
	  {{synonyms}}
	</td>
	<td>
	  {{#each best_driver_lines}}
          {{#driver_line_from_id_block}}
          <a href="{{pathFor 'driver_line_show'}}">{{name}}</a>
          {{/driver_line_from_id_block}}
	  {{/each}}
	</td>
      </tr>
      {{/neuron_type_from_id_block}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="neuropile_table">
  <table class="table table-striped">
    <thead>
      <tr>
	<th>Neuropile</th>
      </tr>
    </thead>
    <tbody>
      {{#each neuropiles}}
      <tr>
	<td>
	  {{#neuropile_from_id_block}}
          <a href="{{pathFor 'neuropile_show'}}">{{name}}</a>
	  {{/neuropile_from_id_block}}
	</td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<!-- --------------------------- -->

<template name="driver_lines">
  {{> driver_line_table driver_lines=driver_line_cursor}}

  <a class="btn btn-default insert" href="#">
    <i class="fa fa-pencil-square-o"></i> Add a new driver line</a>

</template>

<template name="driver_line_show_brief">
  {{#driver_line_from_id_block}}
  <h3>Driver Line: {{name}}</h3>
  {{/driver_line_from_id_block}}
</template>

<template name="driver_line_show">
  {{#driver_line_from_id_block}}
  <h1>Driver Line: {{name}}</h1>
  {{> edit_delete_buttons collection="DriverLines" my_id=_id}}

  <h2>Neuron types</h2>
  {{> neuron_type_table neuron_types=neuron_types}}

  <h2>Neuropiles</h2>
  {{> neuropile_table neuropiles=neuropiles}}
  {{/driver_line_from_id_block}}
</template>

<!-- --------------------------- -->

<template name="neuron_types">
  {{> neuron_type_table neuron_types=neuron_type_cursor}}

  <a class="btn btn-default insert" href="#">
    <i class="fa fa-pencil-square-o"></i> Add a new neuron type</a>

</template>

<template name="neuron_type_show_brief">
  {{#neuron_type_from_id_block}}
  <h3>Neuron type: {{name}}</h3>
  {{/neuron_type_from_id_block}}
</template>

<template name="neuron_type_show">
  {{#neuron_type_from_id_block}}
  <h1>Neuron type: {{name}}</h1>
  {{> edit_delete_buttons collection="NeuronTypes" my_id=_id}}

  <h2>Synonyms</h2>
    {{#each synonyms}}
      {{this}}
    {{/each}}

  <h2>Best driver lines</h2>
  {{> driver_line_table driver_lines=best_driver_lines}}

  <h2>Neuropiles</h2>
  {{> neuropile_table neuropiles=neuropiles}}

  <h2>Driver lines</h2>
  {{> driver_line_table driver_lines=driver_lines}}
  {{/neuron_type_from_id_block}}
</template>

<!-- --------------------------- -->

<template name="neuropiles">
  {{> neuropile_table neuropiles=neuropile_cursor}}

  <a class="btn btn-default insert" href="#">
    <i class="fa fa-plus fa-lg"></i> Add a new neuropile</a>
</template>

<template name="neuropile_show_brief">
  {{#neuropile_from_id_block}}
  <h3>Neuropile: {{name}}</h3>
  {{/neuropile_from_id_block}}
</template>

<template name="neuropile_show">
  {{#neuropile_from_id_block}}
  <h1>Neuropile: {{name}}</h1>
  {{> edit_delete_buttons collection="Neuropiles" my_id=_id}}

  <h2>Driver lines</h2>
  {{> driver_line_table driver_lines=driver_lines}}

  <h2>Neuron types</h2>
  {{> neuron_type_table neuron_types=neuron_types}}
  {{/neuropile_from_id_block}}
</template>

<!-- --------------------------- -->

<template name="show_dialog">
  {{#with modal_info}}
  <div class="modal fade" id="show_dialog_id">
    <div class="modal-dialog">
      <div class="modal-content">
	<div class="modal-header">
	  <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title">{{title}}</h4>
	</div>
	<div class="modal-body">
	  {{> UI.dynamic template=body_template_name data=body_template_data}}
	</div>
	<div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	  {{#if is_delete_modal}}
          <button type="button" class="btn btn-danger delete">Delete</button>
	  {{else}}
          <button type="button" class="btn btn-primary save">Save</button>
	  {{/if}}
	</div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  {{/with}}
</template>

<!-- ----------------------------- -->
